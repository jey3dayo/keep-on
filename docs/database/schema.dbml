table Checkin {
  id text [pk, not null, note: 'チェックインID (CUID2形式)']
  habitId text [not null, note: '習慣ID (外部キー: habits.id)']
  date text [not null, note: 'チェックイン日付 (YYYY-MM-DD形式)']
  createdAt text [not null, note: 'レコード作成日時 (ISO8601形式)']
  Note: 'チェックインテーブル\n習慣の実行記録を保存'


  indexes {
    (habitId, date) [name: 'Checkin_habitId_date_idx']
  }
}

table Habit {
  id text [pk, not null, note: '習慣ID (CUID2形式)']
  userId text [not null, note: 'ユーザーID (外部キー: users.id)']
  name text [not null, note: '習慣名']
  icon text [default: 'droplets', note: 'アイコン識別子 (lucide-react icon name)']
  color text [default: 'orange', note: '表示色 (Radix Colors)']
  period text [not null, default: 'daily', note: '習慣の期間 (daily: 毎日, weekly: 毎週, monthly: 毎月)']
  frequency integer [not null, default: 1, note: '期間内の目標回数']
  archived integer [not null, default: 0, note: 'アーカイブ済みフラグ']
  archivedAt text
  createdAt text [not null, note: 'レコード作成日時 (ISO8601形式)']
  updatedAt text [not null, note: 'レコード更新日時 (ISO8601形式)']
  Note: '習慣テーブル\nユーザーが管理する習慣の情報を保存'


  indexes {
    (userId) [name: 'Habit_userId_idx']
  }
}

table UserSettings {
  id text [pk, not null, note: '設定ID (CUID2形式)']
  userId text [not null, unique, note: 'ユーザーID (外部キー: users.id, UNIQUE)']
  weekStart text [not null, default: 'monday', note: '週の開始曜日 (\'monday\' | \'sunday\')']
  colorTheme text [not null, default: 'teal', note: 'カラーテーマ (\'teal\' | \'lime\' | ...)']
  themeMode text [not null, default: 'system', note: 'テーマモード (\'light\' | \'dark\' | \'system\')']
  createdAt text [not null, note: 'レコード作成日時 (ISO8601形式)']
  updatedAt text [not null, note: 'レコード更新日時 (ISO8601形式)']

  Note: 'ユーザー設定テーブル\nユーザーごとの設定情報を管理'
}

table User {
  id text [pk, not null, note: 'ユーザーID (CUID2形式)']
  clerkId text [not null, unique, note: 'Clerk認証ID']
  email text [not null, unique, note: 'メールアドレス']
  weekStart text [not null, default: 'monday', note: '週の開始曜日 (0: 日曜, 1: 月曜)']
  createdAt text [not null, note: 'レコード作成日時 (ISO8601形式)']
  updatedAt text [not null, note: 'レコード更新日時 (ISO8601形式)']

  Note: 'ユーザー情報テーブル\nClerkで認証されたユーザーのデータを管理'
}

ref Checkin_habitId_Habit_id_fk: Checkin.habitId > Habit.id [delete: cascade, update: no action]

ref Habit_userId_User_id_fk: Habit.userId > User.id [delete: cascade, update: no action]

ref UserSettings_userId_User_id_fk: UserSettings.userId > User.id [delete: cascade, update: no action]